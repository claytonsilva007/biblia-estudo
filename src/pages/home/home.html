<ion-header>
  
  <ion-toolbar no-border-top>
    
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-segment [(ngModel)]="segmentoSelecionado">
      <ion-segment-button value="livros">
        {{abaLivroDescricao}}
      </ion-segment-button>
      <ion-segment-button value="capitulos">
        {{abaCapituloDescricao}}
      </ion-segment-button>
      <ion-segment-button value="versiculos">
        Vers√≠culos
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content>


  <ion-fab right middle edge *ngIf="exibirBtnComentar">
    
    <button ion-fab>
      <ion-icon name="more"></ion-icon>
    </button>

    <ion-fab-list side="left">
      
      <button ion-fab color="secondary" (click)="navegarParaComentarios()">
        <ion-icon name="text"></ion-icon>
      </button>
      
      <button ion-fab color="danger" *ngIf="podeVisualizarComentariosExistentes()" (click)="exibirTodosComentarios()">
        <ion-icon name="eye"></ion-icon>
      </button>
      
      <button ion-fab color="dark" (click)="ocultarBotao()">
        <ion-icon name="close"></ion-icon>
      </button>

    </ion-fab-list>
  </ion-fab>

  <div [ngSwitch]="segmentoSelecionado">
    <ion-list *ngSwitchCase="'livros'">
        <ion-item *ngFor="let livro of biblia.livros; let index = index" (click)="atualizarSegmentoCapitulos(livro, index)">
          <ion-label>{{livro.abreviatura}}</ion-label>
          <ion-label>{{livro.nome}}</ion-label>
        </ion-item>
    </ion-list>


    <ion-list *ngSwitchCase="'capitulos'" >
      <ion-grid *ngFor="let capitulo of biblia.livros[versiculoParaComentar.indexLivro].capitulos; let index = index" no-padding>
        <ion-row *ngIf="index % 4 == 0" no-padding justify-content-start align-items-start>
            <ion-col ion-item no-lines no-padding text-center (click)="atualizarSegmentoVersiculos(index, capitulo)">
              <button round outline ion-button color="dark" *ngIf="index+1 <= livroSelecionado.capitulos.length"> 
                {{index+1}} 
              </button>
            </ion-col>
            <ion-col ion-col ion-item no-lines no-padding text-center (click)="atualizarSegmentoVersiculos(index+1, capitulo)">
              <button round outline ion-button color="dark" *ngIf="index+2 <= livroSelecionado.capitulos.length"> 
                {{index+2}} 
              </button>
            </ion-col>
            <ion-col ion-item no-lines no-padding text-center (click)="atualizarSegmentoVersiculos(ndex+2, capitulo)">
              <button round outline ion-button color="dark" *ngIf="index+3 <= livroSelecionado.capitulos.length"> 
                {{index+3}} 
              </button>
            </ion-col>
            <ion-col ion-item no-lines no-padding text-center (click)="atualizarSegmentoVersiculos(index+3, capitulo)">
              <button round outline ion-button color="dark" *ngIf="index+4 <= livroSelecionado.capitulos.length"> 
                {{index+4}} 
              </button>
            </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>

    <ion-list *ngSwitchCase="'versiculos'">
      <ion-item [ngStyle]="{'background-color': versiculo.backgroundColor!==null ? versiculo.backgroundColor : 'null' }" 
                  *ngFor="let versiculo of biblia.livros[versiculoParaComentar.indexLivro].capitulos[versiculoParaComentar.indexCapitulo].versiculos; let index = index" text-wrap (tap)="pressEvent($event, versiculo, index)">
        {{ index+1 + ". " + versiculo.texto}}
      </ion-item>
    </ion-list>
    <ion-item></ion-item>
</div>

</ion-content>

<ion-footer no-shadow *ngIf="exibirPaletaDeCores">
  <ion-toolbar position="bottom">
    <ion-row styleClass="centralizado">

      <ion-col>
        <button ion-button color="primary" (click)="setarCor('#488aff')"> </button>
      </ion-col>

      <ion-col>
        <button ion-button color="secondary" (click)="setarCor('#32db64')"> </button>
      </ion-col>

      <ion-col>
        <button ion-button color="danger" (click)="setarCor('#f53d3d')"> </button>
      </ion-col>

      <ion-col>
        <button ion-button color="yellow" (click)="setarCor('#FFFF00')"> </button>
      </ion-col>

      <ion-col>
        <button ion-button color="DarkViolet" (click)="setarCor('#9400D3')"> </button>
      </ion-col>

      <ion-col>
        <button ion-button color="Sienna" (click)="setarCor('#A0522D')"> </button>
      </ion-col>

      <ion-col>
        <button ion-button color="HotPink" (click)="setarCor('HotPink')"> </button>
      </ion-col>

    </ion-row>
  </ion-toolbar>
</ion-footer>

